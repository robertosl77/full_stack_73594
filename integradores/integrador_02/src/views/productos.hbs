<!-- src/views/productos.hbs -->
<main class="container mt-4">
    <h1 class="mb-4">Productos</h1>

    {{#each productos}}
    <div class="card mb-3" style="max-width: 540px;">
        <div class="row g-0">
            <div class="col-md-4">
                <img src="{{this.imagen}}" class="img-fluid rounded-start" alt="{{this.nombre}}">
            </div>
            <div class="col-md-8">
                <div class="card-body">
                    <h5 class="card-title">{{this.nombre}}</h5>
                    <p class="card-text"><small class="text-muted">{{this.bodega}} - {{this.tipo}}</small></p>
                    {{#if this.descuento}}
                        <p class="card-text">
                            <del>${{this.precio_original}}</del> 
                            <strong>${{descuentoPrecio this.precio_original this.descuento}}</strong>
                            <span class="badge bg-success">{{this.descuento}}% OFF</span>
                        </p>
                    {{else}}
                        <p class="card-text"><strong>${{this.precio_original}}</strong></p>
                    {{/if}}
                    <p class="card-text">Stock: {{this.stock}}</p>
                </div>
            </div>
        </div>
    </div>
    {{/each}}

    {{#unless productos.length}}
        <p>No hay productos cargados.</p>
    {{/unless}}
</main>
